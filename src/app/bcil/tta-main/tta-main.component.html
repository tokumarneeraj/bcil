
<div class="pcoded-content">
  <!-- Page-header start -->
  <div class="page-header">
    <div class="page-block">
      <div class="row align-items-center">
        <div class="col-md-8">
          <div class="page-header-title">
            <h5 class="m-b-10">MOU</h5>
            <p class="m-b-0">Welcome to Technology Transfer Office at BCIL</p>
          </div>
        </div>
        <div class="col-md-4">
          <ul class="breadcrumb-title">
            <li class="breadcrumb-item">
              <a href="index.html"> <i class="fa fa-home"></i> </a>
            </li>
            <li class="breadcrumb-item">
              <a href="#!">MOU</a>
            </li>
            <!-- <li class="breadcrumb-item"><a href="#!">Assignments</a>
            </li> -->
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- Page-header end -->
  <div class="pcoded-inner-content">
    <!-- Main-body start -->
    <div class="main-body">
      <div class="page-wrapper">
        <!-- Page-body start -->
        <div class="page-body">

          <!-- Hover table card start -->
          <div class="card">
            <div class="card-header">
          <h5>{{tablename}}</h5>
              <!-- <span>use class <code>table-hover</code> inside table element</span> -->
              <div class="card-header-right">
                <ul class="list-unstyled card-option">
                  <li><i class="fa fa fa-wrench open-card-option"></i></li>
                  <li><i class="fa fa-window-maximize full-card"></i></li>
                  <li><i class="fa fa-minus minimize-card"></i></li>
                  <li><i class="fa fa-refresh reload-card"></i></li>
                  <li><i class="fa fa-trash close-card"></i></li>
                </ul>
              </div>
            </div>
            <div class="card-block table-border-style">
              <div class="table-responsive">


                <!--table for client start-->
                <table class="table table-hover" *ngIf="showClientPage">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Institute</th>
                      <th>Dept. Name</th>
                      <th>Phone No.</th>
                      <th>Director Name</th>
                      <th>Director Mobile</th>


                      <th>Action</th>
                      <th *ngIf='isAdmin && (type=="S115" ||type=="S121" ||type=="S124")'></th>
                      <th *ngIf='isAdmin && (type=="S115" ||type=="S121")'></th>
                      <th *ngIf='isNodal && type=== "S117"|| type=="126"'></th>
                      <th>History</th>

                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of mouModel;let i=index;">
                      <th scope="row">{{i+1}}</th>
                      <td>{{item.int_Uni_Name}}</td>
                      <td>{{item.dept_Name}}</td>
                      <td>{{item.phoneNo}}</td>
                      <td>{{item.dir_Head_Name}}</td>
                      <td>{{item.dir_Mobile_No}}</td>


                      <td>
                        <button class="btn btn-info" *ngIf='item.app_Status === "S108"' (click)="onClientClick(item,'S113')">Upload</button>
                        <button value="assign" *ngIf='isAdmin && item.app_Status==="S113"' class="btn btn-success" (click)="onClientClick(item,'S114')">Assign</button>
                        <button class="btn btn-info" *ngIf='isBdm && item.app_Status === "S114"' (click)="onClientClick(item,'S115')">Upload</button>

                        <button value="assign" *ngIf='isAdmin && item.app_Status==="S115"' class="btn btn-danger" (click)="onClientClick(item,'S116')">Close</button>

                        <button class="btn btn-info" *ngIf='isBdm && item.app_Status === "S118"' (click)="onClientClick(item,'S115')">Upload</button>
                        <button class="btn btn-info" *ngIf='isBdm && item.app_Status === "S116"' (click)="onClientClick(item,'S119')">Upload</button>
                        <button value="assign" *ngIf='isAdmin && item.app_Status==="S119"' class="btn btn-danger" (click)="onClientClick(item,'S120')">Close</button>


                        <button class="btn btn-success" *ngIf='isNodal && item.app_Status === "S117"' (click)="onClientClick(item,'S122')">Accept</button>

                        <button value="assign" *ngIf='isAdmin && item.app_Status==="S122"' class="btn btn-info" (click)="onClientClick(item,'S123')">Assign</button>
                        <button class="btn btn-info" *ngIf='isBdm && item.app_Status === "S123"' (click)="onClientClick(item,'S124')">Upload</button>

                        <button value="assign" *ngIf='isAdmin && item.app_Status==="S124"' class="btn btn-success" (click)="onClientClick(item,'S126')">Approve</button>

                        <button value="assign" *ngIf='isBdm && item.app_Status==="S125"' class="btn btn-info" (click)="onClientClick(item,'S124')">Update</button>

                        <button value="assign" *ngIf='isNodal && item.app_Status==="S126"' class="btn btn-success" (click)="onClientClick(item,'S127')">Approve</button>

                        <button value="assign" *ngIf='isAdmin && item.app_Status==="S128"' class="btn btn-success" (click)="onClientClick(item,'S125')">Forward</button>

                        <button value="assign" *ngIf='isBdm && item.app_Status==="S127"' class="btn btn-success" (click)="onClientClick(item,'S129')">Submit</button>

                        <button value="assign" *ngIf='isBdm && item.app_Status==="S129"' class="btn btn-success" (click)="onClientClick(item,'S130')">Submit</button>

                      </td>

                      <td *ngIf='isAdmin && item.app_Status==="S115"'><button value="assign" *ngIf='isAdmin && item.app_Status==="S115"' class="btn btn-success" (click)="onClientClick(item,'S117')">Forward</button></td>
                      <td *ngIf='isAdmin && item.app_Status==="S115"'><button value="assign" *ngIf='isAdmin && item.app_Status==="S115"' class="btn btn-info" (click)="onClientClick(item,'S118')">Change Request</button></td>


                      <td *ngIf='isNodal && item.app_Status === "S117"'>
                        <button class="btn btn-info" *ngIf='isNodal && item.app_Status === "S117"' (click)="onClientClick(item,'S121')">Change Request</button>
                      </td>

                      <td *ngIf='isAdmin && item.app_Status==="S121"'><button value="assign" *ngIf='isAdmin && item.app_Status==="S121"' class="btn btn-success" (click)="onClientClick(item,'S117')">Reject</button></td>
                      <td *ngIf='isAdmin && item.app_Status==="S121"'><button value="assign" *ngIf='isAdmin && item.app_Status==="S121"' class="btn btn-info" (click)="onClientClick(item,'S118')">Change Request</button></td>

                      
                      <td *ngIf='isAdmin && item.app_Status==="S124"'><button value="assign" *ngIf='isAdmin && item.app_Status==="S124"' class="btn btn-info" (click)="onClientClick(item,'S125')">Change Request</button></td>


                      <td *ngIf='isNodal && item.app_Status==="S126"'><button value="assign" *ngIf='isNodal && item.app_Status==="S126"' class="btn btn-success" (click)="onClientClick(item,'S128')">Change Request</button></td>


                      <td><a class="btn btn-secondary" routerLink='../file-history' [queryParams]="{stage:'tto',refid:item.refid}">View</a></td>

                    </tr>
                  </tbody>
                </table>
                <!--table for client end-->
              </div>
            </div>
          </div>
          <!-- Hover table card end -->

        </div>
        <!-- Page-body end -->
      </div>
    </div>
    <!-- Main-body end -->
  </div>
  <app-footer></app-footer>
</div>




<div class="modal fade" bsModal #editorModal2="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4>{{formHeader}}</h4>
        <button type="button" class="close float-right" title="Close" (click)="editorModal2.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="ForwardForm">
          <div class="form-group row">
            <div class="col-sm-12">
              <label class="col-form-label">Subject</label>
              <input type="text" class="form-control" formControlName="subject" [ngClass]="{ 'is-invalid': submitted && f.subject.errors }" />


            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-12">
              <label class="col-form-label">Remarks</label>
              <textarea type="text" class="form-control" formControlName="remarks" [ngClass]="{ 'is-invalid': submitted && f.remarks.errors }">
                                </textarea>

            </div>
          </div>
          <div class="form-group row">
            <div class="col-sm-12">
              <label class="col-form-label">Upload</label>
              <input type="file" class="form-control" accept="application/msword,
  application/vnd.openxmlformats-officedocument.wordprocessingml.document" (change)="ClientfileChangeEvent($event)" />


            </div>
          </div>
          <div class="form-group row">
            <div class="col-sm-6">
              <button type="submit"
                      class="btn btn-success"
                      (click)="uploadClientFile()">
                Upload File
              </button>
            </div>
          </div>


        </form>

      </div>
    </div>
  </div>
</div>
